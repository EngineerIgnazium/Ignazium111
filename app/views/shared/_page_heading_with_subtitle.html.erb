<header class="page-title-bar mb-0">
  <div class="d-flex flex-column flex-md-row">
    <div class="lead mb-3">
      <h1 class="h4 font-weight-bold mb-1">
        <%= local_assigns[:title] ? title : "#{action_name} #{subject}" %>
        <span hidden role="status" class="reflex-activity spinner-border spinner-border-sm text-primary" style="position:relative; top:-5px;"></span>
      </h1>
      <%= tag.span subtitle, class: "d-block text-muted" if local_assigns[:subtitle].present? %>
    </div>
    <% if local_assigns[:datepicker] || local_assigns[:buttons] %>
      <div class="ml-auto d-flex">
        <% if local_assigns[:datepicker] %>
          <%= render "/shared/date_range_picker" %>
        <% end %>
        <% (local_assigns[:buttons] || []).each do |link| %>
          <%= link.html_safe %>
        <% end %>
        <% if local_assigns[:sidebar] %>
          <button type="button" class="btn tile layout-button d-xl-none" onclick="CodeFundTheme.toggleSidebar()">
            <span class="fa fa-angle-double-left"></span>
          </button>
        <% end %>
      </div>
    <% end %>
  </div>
</header>
